(this.webpackJsonpvtable=this.webpackJsonpvtable||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),i=n.n(a),o=n(17),s=n.n(o),c=(n(53),n(54),n(55),n(56),n(57),n(24)),l=n(38),d=n(39),u=n(47),j=n(46),b=n(15),h=n(27),x=n(42),O=n.n(x),f=n(19),p=n(20);function y(){var e=Object(f.a)(["\n  margin: 0 10px 0 0;\n"]);return y=function(){return e},e}function g(){var e=Object(f.a)([""]);return g=function(){return e},e}function v(){var e=Object(f.a)(["\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n"]);return v=function(){return e},e}var m=p.a.div(v()),w=p.a.input(g()),_=p.a.p(y()),C=function(e){var t=e.label,n=e.value,a=e.onChange;return Object(r.jsxs)(m,{children:[Object(r.jsx)(_,{children:t}),Object(r.jsx)(w,{type:"text",className:"form-control w-auto",value:n,onChange:function(e){return a(e.target.value)}})]})};function L(){var e=Object(f.a)([""]);return L=function(){return e},e}function S(){var e=Object(f.a)([""]);return S=function(){return e},e}function I(){var e=Object(f.a)([""]);return I=function(){return e},e}var N=p.a.ul(I()),D=p.a.li(S()),T=p.a.a(L()),B=function(e){var t=e.tabs,n=e.activeIndex,a=e.onChange;return Object(r.jsx)(N,{className:"nav nav-tabs",children:t.map((function(e,t){return Object(r.jsx)(D,{className:"nav-item",children:Object(r.jsx)(T,{className:"nav-link ".concat(t===n?"active":""),href:"#",onClick:function(){return a(t)},children:e})})}))})},K=n(33),M=n(28),G=n(10),E=function(e){var t=e.show,n=e.onAdd,a=e.onClose;return Object(r.jsxs)(M.a,{show:t,onHide:a,children:[Object(r.jsx)(M.a.Header,{children:"Add New Entry"}),Object(r.jsx)(M.a.Body,{children:Object(r.jsxs)(G.a,{onSubmit:function(e){var t=e.currentTarget;if(!1===t.checkValidity())e.preventDefault(),e.stopPropagation();else{e.preventDefault();var r=new FormData(t),a=Object.fromEntries(r.entries());n(Object(K.a)(Object(K.a)({},a),{},{range_l:parseInt(a.range_l),range_u:parseInt(a.range_u),reading:parseInt(a.reading)}))}},children:[Object(r.jsxs)(G.a.Group,{controlId:"id",children:[Object(r.jsx)(G.a.Label,{children:"Id"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"id"})]}),Object(r.jsxs)(G.a.Group,{controlId:"box_id",children:[Object(r.jsx)(G.a.Label,{children:"Box Id"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"box_id"})]}),Object(r.jsxs)(G.a.Group,{controlId:"sensor_type",children:[Object(r.jsx)(G.a.Label,{children:"Sensor Type"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"sensor_type"})]}),Object(r.jsxs)(G.a.Group,{controlId:"unit",children:[Object(r.jsx)(G.a.Label,{children:"Unit"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"unit"})]}),Object(r.jsxs)(G.a.Group,{controlId:"name",children:[Object(r.jsx)(G.a.Label,{children:"Name"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"name"})]}),Object(r.jsxs)(G.a.Group,{controlId:"range_l",children:[Object(r.jsx)(G.a.Label,{children:"Range L"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"range_l"})]}),Object(r.jsxs)(G.a.Group,{controlId:"range_u",children:[Object(r.jsx)(G.a.Label,{children:"Range U"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"range_u"})]}),Object(r.jsxs)(G.a.Group,{controlId:"longitude",children:[Object(r.jsx)(G.a.Label,{children:"Longitude"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"longitude"})]}),Object(r.jsxs)(G.a.Group,{controlId:"latitude",children:[Object(r.jsx)(G.a.Label,{children:"Latitude"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"latitude"})]}),Object(r.jsxs)(G.a.Group,{controlId:"reading",children:[Object(r.jsx)(G.a.Label,{children:"Reading"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"reading"})]}),Object(r.jsxs)(G.a.Group,{controlId:"reading_ts",children:[Object(r.jsx)(G.a.Label,{children:"Reading TS"}),Object(r.jsx)(G.a.Control,{required:!0,type:"text",name:"reading_ts"})]}),Object(r.jsx)(h.a,{type:"submit",children:"Submit form"})]})})]})},q=function(e){var t=Math.floor(e.length/2),n=Object(c.a)(e).sort((function(e,t){return e-t}));return e.length%2!==0?n[t]:(n[t-1]+n[t])/2};function k(){var e=Object(f.a)(["\n  flex-grow: 1;\n"]);return k=function(){return e},e}function A(){var e=Object(f.a)(["\n  padding: 20px;\n  display: flex;\n"]);return A=function(){return e},e}function R(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n"]);return R=function(){return e},e}var F=p.a.div(R()),H=p.a.div(A()),U=p.a.div(k()),P=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e))._sortList=function(e){var t=e.sortBy,n=e.sortDirection,a=r.state.list,i=O.a.sortBy(a,[t]);return n===b.c.DESC&&i.reverse(),i},r._sort=function(e){var t=e.sortBy,n=e.sortDirection;if(r.state.sortable.includes(t)){var a=r._sortList({sortBy:t,sortDirection:n});r.setState({sortBy:t,sortDirection:n,sortedList:a})}},r.state={list:[],sortable:["sensor_type","reading_ts"],sortBy:"",sortDirection:b.c.ASC,sortedList:[],sensorType:"",sensorName:"",activeTab:0,metrics:[],showNewEntryModal:!1},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("sensor_reading.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({list:t})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.sortBy,a=n.sortDirection,i=n.list,o=n.sensorType,s=n.sensorName;if(r===t.sortBy&&a===t.sortDirection&&i.length===t.list.length&&o===t.sensorType&&s===t.sensorName||this.setState({sortedList:this._sortList({sortBy:r,sortDirection:a}).filter((function(e){return e.sensor_type.includes(o.trim())&&e.name.includes(s.trim())}))}),i.length!==t.list.length){var l=new Set(i.map((function(e){return e.box_id})));this.setState({metrics:Array.from(l).reduce((function(e,t){return[].concat(Object(c.a)(e),Object(c.a)(function(e){var t=new Set(e.map((function(e){return e.sensor_type})));return Array.from(t).map((function(t){return{box_id:e[0].box_id,unit:e.filter((function(e){return e.sensor_type===t}))[0].unit,sensor_type:t,median:q(e.filter((function(e){return e.sensor_type===t})).map((function(e){return e.reading}))).toFixed(2),mean:(n=e.filter((function(e){return e.sensor_type===t})).map((function(e){return e.reading})),n.reduce((function(e,t,n,r){return e+=t,n===r.length-1?e/r.length:e}))).toFixed(2)};var n}))}(i.filter((function(e){return e.box_id===t})))))}),[])})}}},{key:"toggleNewEntryModal",value:function(){var e=this.state.showNewEntryModal;this.setState({showNewEntryModal:!e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.sensorType,a=t.sensorName,i=t.activeTab,o=t.sortBy,s=t.sortDirection,l=t.sortedList,d=t.metrics,u=t.showNewEntryModal,j=t.list;return Object(r.jsxs)(F,{children:[Object(r.jsxs)(H,{children:[Object(r.jsx)(C,{label:"Sensor Type:",value:n,onChange:function(t){return e.setState({sensorType:t})}}),Object(r.jsx)(C,{label:"Sensor Name:",value:a,onChange:function(t){return e.setState({sensorName:t})}}),Object(r.jsx)(h.a,{onClick:this.toggleNewEntryModal.bind(this),children:"Add New"})]}),Object(r.jsx)(B,{tabs:["Data","Metrics"],activeIndex:i,onChange:function(t){return e.setState({activeTab:t})}}),0===i&&Object(r.jsx)(U,{children:Object(r.jsx)(b.a,{children:function(t){var n=t.width,a=t.height;return Object(r.jsxs)(b.d,{width:n,height:a,headerHeight:50,rowHeight:30,sort:e._sort,sortBy:o,sortDirection:s,rowCount:l.length,rowGetter:function(e){var t=e.index;return l[t]},children:[Object(r.jsx)(b.b,{label:"Id",dataKey:"id",width:100}),Object(r.jsx)(b.b,{label:"Box Id",dataKey:"box_id",width:100}),Object(r.jsx)(b.b,{label:"Sensor Type",dataKey:"sensor_type",width:150}),Object(r.jsx)(b.b,{label:"Unit",dataKey:"unit",width:100}),Object(r.jsx)(b.b,{label:"Name",dataKey:"name",width:300}),Object(r.jsx)(b.b,{label:"Range L",dataKey:"range_l",width:100}),Object(r.jsx)(b.b,{label:"Range U",dataKey:"range_u",width:100}),Object(r.jsx)(b.b,{label:"Longitude",dataKey:"longitude",width:100}),Object(r.jsx)(b.b,{label:"Latitude",dataKey:"latitude",width:100}),Object(r.jsx)(b.b,{label:"Reading",dataKey:"reading",width:100}),Object(r.jsx)(b.b,{label:"Reading TS",dataKey:"reading_ts",width:300})]})}})}),1===i&&Object(r.jsx)(U,{children:Object(r.jsx)(b.a,{children:function(e){var t=e.width,n=e.height;return Object(r.jsxs)(b.d,{width:t,height:n,headerHeight:50,rowHeight:30,rowCount:d.length,rowGetter:function(e){var t=e.index;return d[t]},children:[Object(r.jsx)(b.b,{label:"Box Id",dataKey:"box_id",width:100}),Object(r.jsx)(b.b,{label:"Sensor Type",dataKey:"sensor_type",width:150}),Object(r.jsx)(b.b,{label:"Median",dataKey:"median",width:100}),Object(r.jsx)(b.b,{label:"Mean",dataKey:"mean",width:100}),Object(r.jsx)(b.b,{label:"Unit",dataKey:"unit",width:100})]})}})}),Object(r.jsx)(E,{show:u,onAdd:function(t){var n=[t].concat(Object(c.a)(j));e.setState({list:n,showNewEntryModal:!1})},onClose:this.toggleNewEntryModal.bind(this)})]})}}]),n}(i.a.Component);var J=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(P,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),V()}},[[73,1,2]]]);
//# sourceMappingURL=main.fa19a930.chunk.js.map